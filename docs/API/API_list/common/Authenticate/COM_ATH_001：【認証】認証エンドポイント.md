### 処理概要

PLAT 認証基盤（Keycloak）の認証エンドポイントにアクセスし、認証のための画面を表示する。

| 機能 ID     | API 論理名                 | HTTP メソッド | URI                                                                       |
| :---------- | :------------------------- | :------------ | :------------------------------------------------------------------------ |
| COM_ATH_001 | 【認証】認証エンドポイント | POST          | {KeycloakPath}/auth/realms/{organization_id}/protocol/openid-connect/auth |

| 連携方式    | データ形式          | 利用可能な接続先   |
| :---------- | :------------------ | :----------------- |
| HTTPRequest | HTTP Response(HTML) | ローカル、リモート |

### リクエストヘッダー

| No. | 項目名 | 物理名 | 属性 | Nullable | 設定要領 |
| :-- | :----- | :----- | :--: | :------: | :------- |
| -   |        |        |      |          |          |

### リクエスト（クエリ）

| No. | 項目名           | 物理名                |  属性  | Nullable | 設定要領                                                            |
| :-- | :--------------- | :-------------------- | :----: | :------: |:----------------------------------------------------------------|
| 1   | レスポンスタイプ | response_type         | string |    -     | "code"もしくは"token"を設定                                            |
| 2   | クライアント ID  | client_id             | string |    -     |接続先のクライアント ID を設定   |
| 3   | リダイレクト URI | redirect_uri          | string |    -     |認証処理完了後にレスポンスが返却される URI  |
| 4   | スコープ         | scope                 | string |    -     | "offline_access"(固定) ※トークン取得処理で ID トークンも取得したい場合は"openid"を設定する      |
| 5   | ステート         | state                 | string |    ○     | 推定されにくい任意の文字列                                                   |
| 6   | コードチャレンジ | code_challenge        | string |    ○     | 推定されにくい任意の文字列を SHA ２５６暗号化し、Base64 符号化した文字列                      |
| 7   | PKCE メソッド    | code_challenge_method | string |    ○     | "S256"(固定)                                                      |

### リクエスト（パスパラメータ）

| No. | 項目名  | 物理名          |  属性  | Nullable | 設定要領                                           |
| :-- | :------ | :-------------- | :----: | :------: | :------------------------------------------------- |
| 1   | 組織 ID | organization_id | string |    -     | 組織 ID を設定 ※患者用の場合、「0000000000」を設定|

### リクエスト(Body)

| No. | 項目名 | 物理名 | L1  | L2  | L3  | L4  | L5  | L6  | 繰返し | 属性 | Nullable | リクエスト設定要領 |
| :-- | :----- | :----- | :-: | :-: | :-: | :-: | :-: | :-: | :----- | :--- | :------- | :----------------- |
| -   |        |        |     |     |     |     |     |     |        |      |          |                    |

### サンプル（リクエスト）

```
/auth/realms/1310000001/protocol/openid-connect/auth
?response_type=code
&client_id=clientid1
&redirect_uri=customscheme://callback
&scope=openid
&state=gs7w643r8fwe
&code_challenge=asdf773645+jhee***
&code_challenge_method=S256
```

### レスポンス

| No. | 項目名 | 物理名    | L1  | L2  | L3  | L4  | L5  | L6  | 繰返し | 属性   | Nullable | レスポンス設定要領 |
| :-- | :----- | :-------- | :-: | :-: | :-: | :-: | :-: | :-: | :----- | :----- | :------- | :----------------- |
| 1   |        | 画面 HTML |     |     |     |     |     |     | ○      | string | -        |                    |

| エラー条件                                                        |
| :---------------------------------------------------------------- |
| システムエラー<br/>・API 共通仕様に準拠<br/>業務エラー<br/>・なし |

### サンプル（レスポンス）

認証画面の HTML

### 備考

なし
